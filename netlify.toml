# This file tells Netlify how to build your frontend.
# It must be in the ROOT of your GitHub repository.

[build]
  # Command to run:
  # 1. Navigates into the correct, deep folder
  # 2. Runs "npm install" to get all dependencies (including "vite")
  # 3. Runs the build
  command = "cd react-msdd/rsmart-habit-builder/rsmart-habit-builder && npm install && CI=false npm run build"
  
  # The folder that contains the final built website (relative to the root)
  publish = "react-msdd/rsmart-habit-builder/rsmart-habit-builder/dist"

  [build.environment]
    # Set the Node.js version to a modern one that Vite likes
    NODE_VERSION = "20"
    # This officially tells Netlify to ignore linter warnings
    CI = "false"
    # We are no longer using this, but it doesn't hurt to leave it.
    NPM_FLAGS = "--include=dev"

# This rule makes React Router (for pages like /login, /dashboard) work correctly.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

